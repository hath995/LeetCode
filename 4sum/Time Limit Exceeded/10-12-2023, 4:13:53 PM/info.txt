{"id":1073500840,"lang":"typescript","lang_name":"TypeScript","time":"1 week, 4 days","timestamp":1697120033,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1073500840/","is_pending":"Not Pending","title":"4Sum","memory":"N/A","code":"type tuples = [number, number, number, number];\n\nfunction toS(tuple: tuples): string {\n    return tuple.toString();\n}\n\nfunction T(t: tuples, nums: number[]): tuples {\n   return [nums[t[0]] , nums[t[1]] , nums[t[2]] , nums[t[3]]]\n}\n\nfunction toMultiset(s: number[]): Map<number, number> {\n    const s_mset: Map<number, number> = new Map();\n    for(let char of s) {\n        if(s_mset.has(char)) {\n            s_mset.set(char, s_mset.get(char)+1);\n        }else{\n            s_mset.set(char, 1);\n        }\n    }\n    return s_mset;\n}\n\nfunction restrictedList(nums: number[]): number[] {\n    let result = [];\n    let ms = toMultiset(nums);\n    for(let [num, count] of ms.entries()) {\n        for(let i=0; i< count && i < 4; i++) {\n            result.push(num);\n        }\n    }\n    return result;\n}\n\nfunction inc(t: tuples, n: number) {\n    if(t[3] == n-1) {\n        if(t[2] == n-2) {\n            if(t[1]==n-3) {\n                t[0]++;\n                t[1] = t[0]+1;\n                t[2] = t[1]+1;\n                t[3] = t[2]+1;\n            }else{\n                t[1]++;\n                t[2] = t[1]+1;\n                t[3] = t[2]+1;\n            }\n        }else{\n            t[2]++;\n            t[3] = t[2]+1;\n        }\n    }else{\n        t[3]++;\n    }\n}\n\nfunction isTarget(nums: number[], t: tuples, n: number): boolean {\n    return n == (nums[t[0]] + nums[t[1]] + nums[t[2]] + nums[t[3]])\n}\n\nfunction lessThan(t: tuples, r: tuples): boolean {\n    // return t[0] < r[0] && t[1] <= r[1] && t[2] <= r[2] && t[3] <= r[3]\n    return t[0] < r[0]\n}\n\nfunction fourSum(nums: number[], target: number): number[][] {\n    let mums = restrictedList(nums);\n    console.log(mums);\n    const end: tuples = [mums.length-3, mums.length-3, mums.length-2, mums.length-1]\n    const sort = (a,b) => a-b;\n    let setOfTuples: Set<string> = new Set();\n    let result = [];\n    let tuple: tuples = [0,1,2,3];\n    while(lessThan(tuple, end)) {\n        let ts = toS(T(tuple, mums).sort(sort));\n        if(!setOfTuples.has(ts)) {\n            if(isTarget(mums, tuple, target)) {\n                setOfTuples.add(ts);\n                result.push(T(tuple, mums));\n            }\n        }\n        inc(tuple, mums.length);\n        //console.log(tuple)\n    }\n    return result;\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000000000","title_slug":"4sum","has_notes":false,"flag_type":1}