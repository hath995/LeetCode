{"id":577074209,"lang":"typescript","lang_name":"TypeScript","time":"1 year, 12 months","timestamp":1635188331,"status":20,"status_display":"Compile Error","runtime":"N/A","url":"/submissions/detail/577074209/","is_pending":"Not Pending","title":"Find Servers That Handled Most Number of Requests","memory":"N/A","code":"function busiestServers(k: number, arrival: number[], load: number[]): number[] {\n  const servers = new Array(k);\n  servers.fill(null);\n  const serverjobs = new Array(k);\n  //let jobs = new Array(k);\n  for(let i=0; i < k; i++) {\n    jobs[i] = [];\n  }\n  serverjobs.fill(0);\n  const n = arrival.length;\n  let time = arrival[0];\n  for(let i = 0; i < n; i++) {\n    let assigned = false;\n    let ds = i%k;\n    time = arrival[i];\n    for(let j=0; j < k; j++) {\n      let si = (ds+j)%k;\n      if(!assigned && servers[si] == null) {\n        servers[si]=i;\n        //jobs[si].push(i);\n        assigned = true;\n        break;\n      }\n      if(!assigned && load[servers[si]]+arrival[servers[si]] <= time) {\n        serverjobs[si]++;\n        servers[si] = i;\n        //jobs[si].push(i);\n        assigned = true;\n        break;\n      }\n      //if(assigned && load[servers[si]]+arrival[servers[si]] <= time) {\n      //  serverjobs[si]++;\n      //  servers[si] = null;\n      //}\n      \n    }\n  }\n  for(let j=0; j< k; j++) {\n    if(servers[j] !== null) {\n      serverjobs[j]++;\n    }\n  }\n  //console.log(serverjobs, jobs)\n  let maxjobs = Math.max(...serverjobs);\n  return serverjobs.map((xs, i) => xs == maxjobs ? i : null).filter(xs => xs !== null);\n};","compare_result":null,"title_slug":"find-servers-that-handled-most-number-of-requests","has_notes":false,"flag_type":1}