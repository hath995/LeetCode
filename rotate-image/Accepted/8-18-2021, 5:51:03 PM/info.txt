{"id":540471866,"lang":"javascript","lang_name":"JavaScript","time":"2 years, 2 months","timestamp":1629301863,"status":10,"status_display":"Accepted","runtime":"76 ms","url":"/submissions/detail/540471866/","is_pending":"Not Pending","title":"Rotate Image","memory":"41.6 MB","code":"function forwardRotationPermutation(n) {\n    return function(index) {\n        return index * n  % (n*n+1);\n    }\n}\n\n\nfunction arr2pos(n, y,x) {\n    return n*y+x+1;\n};\n\nfunction pos2arr(n, p) {\n    return [Math.floor((p-1)/n), (p-1)%n]\n}\n\nfunction swapInPlace(mat) {\n    const n = mat.length;\n    const nsq = n * n;\n    let perm = forwardRotationPermutation(n);\n    let visited = new Set();\n    for(let i=1; i <= nsq; i++) {\n        if(visited.has(i)) continue;\n        let temp = null;\n        let k = i;\n        while(!visited.has(k)) {\n            //console.log(k);\n            visited.add(k);\n            let j = perm(k);\n            if(j==k) continue;\n            let [y,x] = pos2arr(n,k);\n            let [a,b] = pos2arr(n, j);\n            let localtemp = mat[a][b];\n\n            mat[a][b] = temp === null ? mat[y][x] : temp;\n            temp = localtemp;\n            k = j;\n        }\n    }\n}\n\n/**\n * @param {number[][]} matrix\n * @return {void} Do not return anything, modify matrix in-place instead.\n */\nvar rotate = function(matrix) {\n    swapInPlace(matrix);    \n};","compare_result":"111111111111111111111","title_slug":"rotate-image","has_notes":false,"flag_type":1}